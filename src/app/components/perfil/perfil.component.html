<section class="container">
    <h2>Perfil de Usuario</h2>

    <div *ngIf="isLoading">
        <p>Cargando perfil...</p>
    </div>

    <div *ngIf="!isLoading">
        <button type="button" (click)="startEdit()">Editar perfil</button>

        <!-- Formulario de edición de datos del usuario, se muestra sólo cuando se está editando -->
        <form [formGroup]="profileForm" (ngSubmit)="saveChanges()" *ngIf="profileForm && editing">
            <label>
                Nombre de usuario:
                <input type="text" formControlName="username">
            </label>

            <label>
                Email:
                <input type="email" formControlName="email">
            </label>

            <button type="submit" [disabled]="!profileForm.valid">Guardar cambios</button>
            <button type="button" (click)="cancelEdit()">Cancelar</button>
        </form>
    </div>
</section>